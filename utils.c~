#include "monty.h"

/**
 * parse_and_exec - parse and tokeninize the string and execute
 * @line: target string
 * Return: nothing
 */

void parse_and_exec(char *line, int line_num)
{
	char *tok;

	if (line == NULL)
		return;
	if ((tok = strtok(line, "\n")) == NULL)
		return;
	if ((tok = strtok(tok, " ")) == NULL)
		return;

	if (get_opcode_func(tok) == NULL)
	{
		fprintf(stderr, "L%d: unknown instruction %s", line_num, tok);
		exit(EXIT_FAILURE);
	}

	get_opcode_func(tok)(head, line_num);
	free(tok);
	return;
}
